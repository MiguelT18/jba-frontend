---
import { Image } from "astro:assets";
import CarouselImg01 from "@/images/carousel-01.webp";
import CarouselImg02 from "@/images/carousel-02.webp";
import CarouselImg03 from "@/images/carousel-03.webp";
import CarouselImg04 from "@/images/carousel-04.webp";

interface SlidesInfo {
  img: ImageMetadata;
  title: string;
  description: string;
  program: string[];
}

const slidesInfo: SlidesInfo[] = [
  {
    img: CarouselImg01,
    title: "Cosmetología",
    description: "Domina el arte completo del cuidado y estilismo profesional",
    program: [
      "Corte, color y estilizado de cabello",
      "Bases de piel y uñas",
      "Higiene, sanidad y seguridad",
      "Preparación para el examen estatal",
    ],
  },
  {
    img: CarouselImg02,
    title: "Estética",
    description: "Especialízate en el cuidado integral de la piel",
    program: [
      "Corte, color y estilizado de cabello",
      "Bases de piel y uñas",
      "Higiene, sanidad y seguridad",
      "Preparación para el examen estatal",
    ],
  },
  {
    img: CarouselImg03,
    title: "Máster Estética",
    description: "Lleva tu carrera al siguiente nivel con técnicas avanzadas",
    program: [
      "Corte, color y estilizado de cabello",
      "Bases de piel y uñas",
      "Higiene, sanidad y seguridad",
      "Preparación para el examen estatal",
    ],
  },
  {
    img: CarouselImg04,
    title: "Tecnología de Uñas",
    description: "Conviértete en experta del nail art profesional",
    program: [
      "Corte, color y estilizado de cabello",
      "Bases de piel y uñas",
      "Higiene, sanidad y seguridad",
      "Preparación para el examen estatal",
    ],
  },
];
---

<style>
  .carousel {
    scroll-behavior: smooth;
    scroll-snap-type: x mandatory;
    anchor-name: --carousel;
  }

  .carousel > div {
    scroll-snap-align: start;
  }

  .carousel::scroll-button(left) {
    content: "←";
    font-weight: bold;
    position-area: left center;
    translate: 5px;
    position: fixed;
  }

  .carousel::scroll-button(right) {
    content: "→";
    font-weight: bold;
    position-area: right center;
    translate: -5px;
    position: fixed;
  }

  .carousel::scroll-button(left),
  .carousel::scroll-button(right) {
    width: 40px;
    height: 40px;
    font-size: 20px;
    color: white;
    background-color: rgb(255, 255, 255, 0.3);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    position-anchor: --carousel;
  }

  .carousel::scroll-button(left):active,
  .carousel::scroll-button(right):active {
    transition: all 0.1s linear;
    scale: 0.9;
  }

  .carousel::scroll-button(left):disabled,
  .carousel::scroll-button(right):disabled {
    cursor: not-allowed;
    opacity: 0.3;
    pointer-events: none;
  }

  .carousel::-webkit-scrollbar {
    display: none;
  }

  .carousel-bullets {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
  }

  .carousel-bullet {
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.5);
    border: none;
    cursor: pointer;
    transition: all 0.3s ease;
  }

  .carousel-bullet.active {
    background-color: white;
    transform: scale(1.2);
  }

  .carousel-bullet:hover {
    background-color: rgba(255, 255, 255, 0.8);
  }
</style>

<main>
  <div class="carousel flex overflow-x-auto">
    {
      slidesInfo.map((slide, index) => (
        <div class="bg-radial from-transparent to-black/75 to-90% min-w-dvw h-dvh relative">
          <div class="h-full flex flex-col items-center justify-center gap-4 py-4 px-14">
            <div class="size-full absolute top-0 -z-10">
              <Image
                src={slide.img}
                alt={`Imagen de fondo simbólica del programa ${slide.title.toLocaleLowerCase()} ${index + 1}`}
                class="size-full object-cover"
              />
            </div>

            <div class="text-white w-full">
              <h1 class="text-3xl font-bold">{slide.title}</h1>
              <span class="text-md">{slide.description}</span>
            </div>

            <div class="text-white w-full">
              <span class="text-lg font-medium">Lo que aprenderás:</span>
              <ul class="list-disc list-inside marker:text-primary">
                {slide.program.map((program) => (
                  <li>{program}</li>
                ))}
              </ul>
            </div>

            <button type="button" class="bg-primary text-white p-2 rounded-md">
              Solicita información
            </button>
          </div>

          <div class="absolute bottom-8 left-0 right-0 carousel-bullets">
            {slidesInfo.map((_, bulletIndex) => (
              <button
                type="button"
                class={`carousel-bullet ${bulletIndex === index ? "active" : ""}`}
                data-slide={bulletIndex}
                aria-label={`Ir al slide ${bulletIndex + 1}`}
              />
            ))}
          </div>
        </div>
      ))
    }
  </div>
</main>
